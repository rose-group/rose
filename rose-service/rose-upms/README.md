# rose-upms

系统服务，提供用户、角色、权限、租户管理等功能。通过 Spring Security 的 Filter 提供登录和鉴权的功能，也可以实现单点登录，并且支持配置
OAuth2 社交登录的功能。

该服务有自己的用户体系，有自己的登录方式，也可以通过三方登录，如 GitHub、Google、微信等，来新增或者绑定到现有用户。这时候三方登录仅仅提供用户登录和校验的功能。

## 功能说明

1. 一个用户（手机号唯一）可以创建多个账号，一个账号对应一个租户

1、用户通过用户名或者密码登录，登录成功之后，系统会返回一个 Token，用户可以使用 Token 来访问系统的资源。
2、登录成功之后，查询该用户的租户列表，用户可以选择一个租户进入系统。
3、在系统的页面中，用户可以在右上角的租户列表中切换租户。
4、每个租户有自己的角色、权限、部门、岗位，用户可以在系统中查看自己在当前租户的的角色、权限、部门、岗位。
5、用户在部门的数据权限分为以下几种：全部、指定部门、指定部门及其子部门、自己当前部门（不包括子部门）。

问题 1：
1、是否区分系统用户和普通用户？ 不区分

Authority：仅限于系统模块，不涉及业务模块
系统管理员：
应用：新增、修改、删除、查询
资源：新增、修改、删除、查询
系统设置：
通用（全局）：域名
JWT（全局）：秘钥、过期时间
安全（全局）：密码相关
OAuth2（全局）：新增、修改、删除、查询 假定所有租户使用一样的客户端
EMAIL（全局）
SMS（全局）
MFA（个人）
维护租户：新增、修改、删除、查询、选择租户套餐
租户套餐、新增、修改（租户开通应用和资源）、删除、查询
用户：新增、修改、删除、查询
个人信息：修改、重置密码

租户管理员：
租户：修改
角色: 新增、修改、删除、查询、配置资源、配置用户
客户: 新增、修改、删除、查询 -> 客户还有哪些权限？？
用户：新增、修改、删除、查询 -> 租户的用户
个人信息：修改、重置密码

客户用户：
客户: 修改
用户：新增、修改、删除、查询 -> 客户的用户
个人信息
